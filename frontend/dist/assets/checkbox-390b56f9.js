import{r as t,K as I,L as M,M as S,$ as g,_ as x,N as y,O as D,Q as O,c as k,d as E,S as q}from"./index-cc9cc7a8.js";function B(e){const o=t.useRef({value:e,previous:e});return t.useMemo(()=>(o.current.value!==e&&(o.current.previous=o.current.value,o.current.value=e),o.current.previous),[e])}const w="Checkbox",[K,G]=I(w),[j,A]=K(w),H=t.forwardRef((e,o)=>{const{__scopeCheckbox:c,name:s,checked:f,defaultChecked:r,required:l,disabled:d,value:i="on",onCheckedChange:$,...m}=e,[u,p]=t.useState(null),N=M(o,a=>p(a)),h=t.useRef(!1),C=u?Boolean(u.closest("form")):!0,[b=!1,R]=S({prop:f,defaultProp:r,onChange:$});return t.createElement(j,{scope:c,state:b,disabled:d},t.createElement(g.button,x({type:"button",role:"checkbox","aria-checked":n(b)?"mixed":b,"aria-required":l,"data-state":_(b),"data-disabled":d?"":void 0,disabled:d,value:i},m,{ref:N,onKeyDown:y(e.onKeyDown,a=>{a.key==="Enter"&&a.preventDefault()}),onClick:y(e.onClick,a=>{R(v=>n(v)?!0:!v),C&&(h.current=a.isPropagationStopped(),h.current||a.stopPropagation())})})),C&&t.createElement(X,{control:u,bubbles:!h.current,name:s,value:i,checked:b,required:l,disabled:d,style:{transform:"translateX(-100%)"}}))}),L="CheckboxIndicator",T=t.forwardRef((e,o)=>{const{__scopeCheckbox:c,forceMount:s,...f}=e,r=A(L,c);return t.createElement(D,{present:s||n(r.state)||r.state===!0},t.createElement(g.span,x({"data-state":_(r.state),"data-disabled":r.disabled?"":void 0},f,{ref:o,style:{pointerEvents:"none",...e.style}})))}),X=e=>{const{control:o,checked:c,bubbles:s=!0,...f}=e,r=t.useRef(null),l=B(c),d=O(o);return t.useEffect(()=>{const i=r.current,$=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor($,"checked").set;if(l!==c&&u){const p=new Event("click",{bubbles:s});i.indeterminate=n(c),u.call(i,n(c)?!1:c),i.dispatchEvent(p)}},[l,c,s]),t.createElement("input",x({type:"checkbox","aria-hidden":!0,defaultChecked:n(c)?!1:c},f,{tabIndex:-1,ref:r,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function n(e){return e==="indeterminate"}function _(e){return n(e)?"indeterminate":e?"checked":"unchecked"}const P=H,z=T,F=t.forwardRef(({className:e,...o},c)=>k(P,{ref:c,className:E("peer h-4 w-4 shrink-0 rounded-sm border border-slate-300 focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-slate-700 dark:text-slate-50 dark:focus:ring-slate-400 dark:focus:ring-offset-slate-900",e),...o,children:k(z,{className:E("flex items-center justify-center"),children:k(q,{className:"h-4 w-4"})})}));F.displayName=P.displayName;export{F as C};
