import{r as g,b,c as e,j as l,H as d,I as a,B as f,F as c,f as y,D as v}from"./index-56ac5ff3.js";import{u as w}from"./index.esm-3f09c3d2.js";import"./tag.module-4ed993c7.js";import"./paragraph.module-b13e4475.js";import{P as F}from"./Profile.layot-5d03fd0b.js";const B=()=>{const{register:r,control:S,handleSubmit:h,formState:{errors:s}}=w(),[o,n]=g.useState(""),p=localStorage.getItem("token"),{login:m,email:x,phone:u}=b(t=>t.user.user);return e(F,{children:l("div",{className:"bg-white m-5 p-10 rounded-3xl space-y-5",children:[e("div",{className:"text-center",children:e(d,{type:"h1",children:"Редактирование профиля"})}),l("form",{action:"",onSubmit:h(async t=>{try{const{data:i}=await y.post(v.user.editProfile,{...t},{headers:{"Content-Type":"application/json",Authorization:"Bearer "+p}});n("ok")}catch(i){i instanceof Error&&n(i.message)}}),children:[e("label",{htmlFor:"phone",children:"Заполните номер"}),e(a,{placeholder:u,...r("phone",{required:{value:!0,message:"Заполните Phone"}}),id:"phone"}),e("label",{htmlFor:"login",children:"Заполните никнейм"}),e(a,{error:s.login,placeholder:m,...r("login",{required:{value:!0,message:"Заполните login"}}),id:"login"}),e("label",{htmlFor:"login",children:"Заполните старый пароль"}),e(a,{type:"password",error:s.password,...r("password",{required:{value:!0,message:"Заполните старый пароль"}}),id:"phone"}),e("label",{htmlFor:"login",children:"Заполните новый пароль"}),e(a,{type:"password",error:s.hashpassword,...r("hashpassword",{required:{value:!0,message:"Заполните новый пароль"}}),id:"phone"}),e(f,{children:"Изменить данные"}),o==="ok"?e("div",{className:"p-10 bg-amber-200",children:e("p",{children:o})}):e(c,{children:o.length>0&&l(c,{children:[e(d,{type:"h2",children:"Ошибка редактирования данных"}),e("div",{className:"p-10 bg-amber-200",children:e("p",{children:o})})]})})]})]})})};export{B as default};
