import{b as f,u as g,r as i,P as x,a as y,c as e,j as a,H as l,B as v,f as N,D as w}from"./index-cc9cc7a8.js";import{u as b}from"./index.esm-1be2bc4c.js";import"./tag.module-4ed993c7.js";import"./paragraph.module-b13e4475.js";import{P as j}from"./Profile.layot-db5a4034.js";function B(){const t=f(s=>s.user.user);g(),i.useState(),i.useState(!1),b(),i.useState(!1);const c=x(t),d=y(),[o,m]=i.useState(c),h=async s=>{const r=s.target.files[0];new FormData().set("files",r);const n=new FileReader;n.readAsDataURL(r),n.onloadend=()=>{m(n.result)};const p={files:r};await N.post(w.user.uploadImage,{...p},{headers:{"Content-type":"multipart/form-data",Authorization:`Bearer ${localStorage.getItem("token")}`}})},u=s=>{d(s,{replace:!0})};return e(j,{children:a("div",{className:"mx-5 bg-white p-5 space-y-5 sm:p-10 rounded-3xl",children:[e(l,{type:"h1",children:"Ваш профиль"}),(t==null?void 0:t.email)==="damur2004@gmail.com"&&e(v,{onClick:()=>u("/adminPage"),children:"Войти в админку"}),a("div",{className:"mx-auto sm:flex justify-between",children:[a("div",{children:[e("img",{src:o.length>0?o:"../../../public/icons/profile.svg",className:"rounded-full  mx-auto h-24 w-24",alt:""}),a("label",{className:"my-5",htmlFor:"avatarFile",children:[e("h1",{className:"text-center",children:"изменить аватар"}),e("input",{onChange:s=>h(s),type:"file",className:"hidden",accept:"image/*",id:"avatarFile"})]})]}),a("div",{children:[a("div",{className:"flex justify-between",children:[e(l,{type:"h2",children:"login:"}),e(l,{type:"h2",className:"text-end",children:t.login})]}),a("div",{className:"flex justify-between",children:[e(l,{type:"h2",children:"phone:"}),e(l,{type:"h2",className:"text-end",children:t.phone})]}),a("div",{className:"flex justify-between",children:[e(l,{type:"h2",children:"email:"}),e(l,{type:"h2",className:"text-end",children:t.email})]})]})]})]})})}export{B as default};
